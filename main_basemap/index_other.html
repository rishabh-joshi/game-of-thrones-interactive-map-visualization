<!doctype html>
<html lang="en">
<head>
    <title>Game of Thrones Map MSiA Visualization</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Adding Leaflet CSS for styling -->
    <link rel="stylesheet" href="http://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <style>
        html { height: 100% }
        body { height: 100%; margin: 0; padding: 0;}
        .map { height: 100% }
    </style>
</head>
<body>
    <!--<div id="map1" class="map"></div>-->
    <div id="map2" class="map"></div>

    <script src="http://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <script src="map_switcher.js"></script>
    <script>
        var map1 = L.map('map1', {
            center: [5, 20],
            //zoomSnap: 0.25,
            //zoomDelta: 0.25,
            //center: [48, -3],
            zoom: 5,
            //minZoom: 5,
            zoomControl: false,
            maxBounds: [[90,-180],[-43.87, 171.37]]
            //maxBounds: [[50, -30], [-45, 100]]
        });

        var map2 = L.map('map2', {
            center: [5, 20],
            //zoomSnap: 0.25,
            //zoomDelta: 0.25,
            //center: [48, -3],
            zoom: 5,
            //minZoom: 5,
            zoomControl: false,
            maxBounds: [[90,-180],[-43.87, 171.37]]
            //maxBounds: [[50, -30], [-45, 100]]
        });

        //map.options.crs = L.CRS.EPSG4326;
        map2.options.crs = L.CRS.EPSG3857;


        var defaultLayer = L.tileLayer.change('gotClassic').addTo(map2);

        var baseLayers = {
            'GoT Map Classic': defaultLayer,
            //'GoT Map HBO': L.tileLayer.change('gotHBO'),
            'GoT Map HBO': L.tileLayer.change('gotLocal'),
        };

        var overlayLayers = {
            //'Realms': L.tileLayer.change('gotRealms'),
            //'Cities': L.tileLayer.change('gotCities'),
            'Labels': L.tileLayer.change('gotLabels')

        };

        L.control.layers(baseLayers, overlayLayers, {collapsed: false}).addTo(map2);

        // resize layers control to fit into view.
        function resizeLayerControl () {
            var layerControlHeight = document.body.clientHeight - (10 + 50);
            var layerControl = document.getElementsByClassName('leaflet-control-layers-expanded')[0];

            layerControl.style.overflowY = 'auto';
            layerControl.style.maxHeight = layerControlHeight + 'px';
        }
        map2.on('resize', resizeLayerControl);
        resizeLayerControl();
    </script>
</body>
</html>
